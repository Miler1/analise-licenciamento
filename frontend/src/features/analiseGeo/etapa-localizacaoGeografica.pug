include ../../layout/components/mapPanel
#localizacaoGeografica
    .row
        .col-md-12

            h5 Localização do empreendimento

            +mapPanel-sidebar("mapa-localizacao-empreendimento",'400', true, 'ctrl')
            br
            #lista-restricoes
                #accordion.panel-group
                    div
                        a(href='javascript:;', data-toggle='collapse', data-parent='#accordion', aria-expanded='false', data-target='#meusDados', ng-init = 'ctrl.openedAccordion = false', ng-click = 'ctrl.openedAccordion = !ctrl.openedAccordion' )
                            .panel.panel-default
                                .panel-heading
                                    h4.panel-title
                                        | Dados do empreendimento
                                        i(class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': ctrl.openedAccordion, 'glyphicon-chevron-right': !ctrl.openedAccordion}")
                        #meusDados.collapse
                            table.table.table-striped.table-condensed.no-margin.table-responsive(style="border: 1px solid #d0cbcb;")
                                thead
                                    tr
                                        th.col-md-5 Item
                                        th.col-md-5 Área (ha)
                                        th.col-md-2.text-right Ações

                                tbody
                                    tr(ng-repeat='camada in ctrl.camadasDadosEmpreendimento')
                                        td.col-md-5 {{camada.item}}
                                        td.col-md-5 {{camada.descricao}}
                                        td.col-md-2.text-right
                                            i.glyphicon.glyphicon-alert(ng-show="ctrl.analiseGeo.inconsistencias.length > 0", style="color:red",ng-if = 'camada.item.toUpperCase() === ctrl.categoria.PROPRIEDADE', ng-click='addInconsistencia(ctrl.categoria.PROPRIEDADE)', title='Adicionar inconsistência', )
                                            | &nbsp;&nbsp;
                                            i.glyphicon.glyphicon-alert(ng-show="ctrl.analiseGeo.inconsistencias.length < 1",ng-if = 'camada.item.toUpperCase() === ctrl.categoria.PROPRIEDADE', ng-click='addInconsistencia(ctrl.categoria.PROPRIEDADE)', title='Adicionar inconsistência')
                                            | &nbsp;&nbsp;

            br
            #lista-restricoes
                #accordion.panel-group
                    h5(style="margin-bottom:0px") Dados da área do projeto
                    br
                    hr(style="margin-top:2px;")
                    div(ng-repeat="caracterizacao in ctrl.analiseGeo.analise.processo.caracterizacoes") 
                        div(ng-repeat="atividadeCaracterizacao in caracterizacao.atividadesCaracterizacao")
                            a(href='javascript:;', data-toggle='collapse', data-parent='#accordion',aria-expanded='false', data-target='#dadosAreaProjeto', ng-init = 'ctrl.openedAccordion = false', ng-click = 'ctrl.openedAccordion = !ctrl.openedAccordion')
                                .panel.panel-default
                                    .panel-heading(style="display: inline-flex;")
                                        h4.panel-title
                                            | Atividade:&nbsp;&nbsp;  
                                        h4.panel-title(style="text-transform: uppercase;")
                                            |  {{atividadeCaracterizacao.atividade.nome}}    
                                            i.pull-right(style="margin-left: 460px;",class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': ctrl.openedAccordion, 'glyphicon-chevron-right': !ctrl.openedAccordion}")
                                            
                            #dadosAreaProjeto.collapse
                                table.table.table-striped.table-condensed.no-margin.table-responsive(style="border: 1px solid #d0cbcb;")
                                    thead
                                        tr
                                            th.col-md-4 Item
                                            th.col-md-5 Área (ha)
                                            th.col-md-1.text-right Ações

                                    tbody
                                        tr
                                            td.col-md-4 Área do projeto   
                                            td.col-md-5 {{atividadeCaracterizacao.atividadeCaracterizacaoParametros[1].valorParametro}} ha
                                            td.col-md-1.text-right
                                                i.glyphicon.glyphicon-alert(ng-click='addInconsistencia(ctrl.categoria.AREA_PROJETO)', title='Adicionar inconsistência')
                                                | &nbsp;&nbsp;

                                br
                                div
                                    a(href='javascript:;', data-parent='#accordion',aria-expanded='false', data-target='#dadosAreaProjeto', ng-init = 'ctrl.openedAccordion = false', ng-click = 'ctrl.openedAccordion = !ctrl.openedAccordion')
                                        .panel.panel-default
                                            .panel-heading
                                                h4.panel-title
                                                    | Áreas de restrição da atividade                                
                                    #dadosAreaProjeto
                                            table.table.table-striped.table-condensed.no-margin.table-responsive(style="border: 1px solid #d0cbcb;")
                                                thead
                                                    tr
                                                        th.col-md-4 Item
                                                        th.col-md-5 Critério
                                                        th.col-md-1.text-right Ações

                                                tbody
                                                    tr
                                                        td.col-md-4 Minha área do imóvel
                                                        td.col-md-5 Meu empreendimento
                                                        td.col-md-2.text-right
                                                            i.glyphicon.glyphicon-alert(title='Sobreposição encontrada. Emitir notificação ao interessado')
                                                            | &nbsp;&nbsp;
                                                            i.glyphicon.glyphicon-envelope(title='Será comunicado ao órgão competente sobre a restrição declarada')
                                                            | &nbsp;&nbsp;
                                br
                                br
