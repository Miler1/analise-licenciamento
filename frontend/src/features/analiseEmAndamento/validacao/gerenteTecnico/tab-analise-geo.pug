#localizacaoGeografica
    .row
        .col-md-12

            .label-analista
                span.title-info Analista Geo: 
                span {{validacaoAnaliseGeoGerente.analiseGeo.analistasGeo[0].usuario.pessoa.nome}}

            #accordion-empreendimento.panel-group
                div
                    a(href='javascript:;', data-toggle='collapse', data-parent='#accordion-empreendimento', aria-expanded='false', data-target='#dados-empreendimento', ng-init = 'validacaoAnaliseGeoGerente.openedAccordionEmpreendimento = false', ng-click = 'validacaoAnaliseGeoGerente.openedAccordionEmpreendimento = !validacaoAnaliseGeoGerente.openedAccordionEmpreendimento' )
                        .panel.panel-default.panel-analise
                            .panel-heading
                                h4.panel-title
                                    | Resumo da análise
                                    i(class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': validacaoAnaliseGeoGerente.openedAccordionEmpreendimento, 'glyphicon-chevron-right': !validacaoAnaliseGeoGerente.openedAccordionEmpreendimento}")

                    #dados-empreendimento.collapse
                        #lista-camadas-empreendimento
                            span.title-info Dados do empreendimento
                            table.table.table-striped.table-condensed.table-responsive.table-empreendimento
                                thead
                                    tr
                                        th.col-md-6 Item
                                        th.col-md-6 Área (ha)

                                tbody
                                    tr(ng-repeat='camada in validacaoAnaliseGeoGerente.camadasDadosEmpreendimento')
                                        td.col-md-5 {{camada.geometrias[0].item}}
                                        td.col-md-5 {{camada.geometrias[0].descricao}}

                        #lista-camadas-restricoes
                            
                            label Áreas de restrição
                            div(ng-if="getRestricoes().length > 0")
                                table.table.table-striped.table-condensed.table-responsive.table-empreendimento
                                    thead
                                        tr
                                        th.col-md-4 Item
                                        th.col-md-5 Descrição
                                        th.col-md-1

                                    tbody(ng-repeat="restricao in getRestricoes()")
                                        tr(ng-repeat="orgao in getOrgaos(restricao)")
                                            td.col-md-5 {{ restricao.item }} 
                                            td.col-md-5 {{ restricao.descricao }}
                                            td.col-md-2.text-right
                                                i.aba-clicavel.icon-eye.glyphicon.glyphicon-eye-open(
                                                    ng-click="(orgao.sigla === 'IPHAN' || orgao.sigla === 'IBAMA') ? validacaoAnaliseGeoGerente.openModalNotificacao(restricao) : validacaoAnaliseGeoGerente.openModalOficio(restricao)",
                                                    data-toggle="tooltip", title="Visualizar resposta do comunicado ao órgão")
                            
                            div.info-sem-dados-para-exibir.margin-inconsistencia(ng-if="getRestricoes().length === 0")
                                i Nenhuma restrição encontrada.

                            div(ng-if="validacaoAnaliseGeoGerente.dadosProjeto.restricoes.length > 0")

                            label Sobreposições

                            table.table.table-striped.table-condensed.no-margin.table-responsive(style="border: 1px solid #d0cbcb;")
                                thead
                                    tr
                                    th.col-md-4 Item
                                    th.col-md-5 Descrição

                                tbody(ng-repeat="restricao in validacaoAnaliseGeoGerente.dadosProjeto.restricoes")
                                    tr(ng-repeat="orgao in restricao.sobreposicaoCaracterizacaoAtividade.tipoSobreposicao.orgaosResponsaveis")
                                        td.col-md-5 {{ restricao.item }} 
                                        td.col-md-5 {{ restricao.descricao }}              

                                    tr(ng-repeat="orgao in restricao.sobreposicaoCaracterizacaoEmpreendimento.tipoSobreposicao.orgaosResponsaveis")
                                        td.col-md-5 {{ restricao.item }} 
                                        td.col-md-5 {{ restricao.descricao }} 
                                    
                                    tr(ng-repeat="orgao in restricao.sobreposicaoCaracterizacaoComplexo.tipoSobreposicao.orgaosResponsaveis")
                                        td.col-md-5 {{ restricao.item }} 
                                        td.col-md-5 {{ restricao.descricao }} 
                            
                            div.info-sem-dados-para-exibir.margin-inconsistencia(ng-if="validacaoAnaliseGeoGerente.dadosProjeto.restricoes.length === 0")
                                i Nenhuma sobreposição encontrada.
                            
                            label.title-inconsistencia Inconsistências Adicionadas
                            div.inconsistencias(ng-if="validacaoAnaliseGeoGerente.inconsistencias.length > 0")
                                
                                table.table.table-striped.table-condensed.no-margin.table-responsive(style="border: 1px solid #d0cbcb;", ng-if="validacaoAnaliseGeoGerente.verificarTamanhoInconsistencias()")
                                    thead
                                        tr
                                        th.col-md-4 Item
                                        th.col-md-3 Categoria
                                        th.col-md-4 Descrição
                                        th.col-md-1.text-right

                                    tbody(ng-repeat="inconsistencia in validacaoAnaliseGeoGerente.inconsistencias")
                                        tr
                                            td.col-md-4 {{ getItemRestricao(inconsistencia) }}
                                            td.col-md-3 {{ inconsistencia.categoria }}
                                            td.col-md-4 {{ getDescricaoRestricao(inconsistencia) }}
                                            td.col-md-2.text-right
                                                i.aba-clicavel.icon-eye.glyphicon.glyphicon-eye-open(
                                                    ng-click="(orgao.sigla !== 'IPHAN' || orgao.sigla !== 'IBAMA') ? validacaoAnaliseGeoGerente.openModalNotificacao(inconsistencia) : validacaoAnaliseGeoGerente.openModalOficio(restricao, processo)")
                            
                            div.info-sem-dados-para-exibir.margin-inconsistencia(ng-if="!validacaoAnaliseGeoGerente.verificarTamanhoInconsistencias()")
                                i Nenhuma inconsistência adicionada.

                        #accordion-complexo.panel-group(ng-if="validacaoAnaliseGeoGerente.dadosProjeto.categoria === validacaoAnaliseGeoGerente.enumCategoria.COMPLEXO || validacaoAnaliseGeoGerente.dadosProjeto.complexo")
                            div
                                a(href='javascript:;', data-toggle='collapse', data-parent='#accordion-complexo', aria-expanded='false', data-target='#meusDadosComplexo', ng-init = 'validacaoAnaliseGeoGerente.openedAccordionDadosComplexo = false', ng-click = 'validacaoAnaliseGeoGerente.openedAccordionDadosComplexo = !validacaoAnaliseGeoGerente.openedAccordionDadosComplexo' )
                                    .panel.panel-default
                                        .panel-heading
                                            h4.panel-title 
                                                | {{ validacaoAnaliseGeoGerente.labelDadosProjeto }}
                                                i(class="pull-right glyphicon" ng-class="{ 'glyphicon-chevron-down': validacaoAnaliseGeoGerente.openedAccordionDadosComplexo, 'glyphicon-chevron-right': !validacaoAnaliseGeoGerente.openedAccordionDadosComplexo }")

                                #meusDadosComplexo.collapse
                                    span.atividades Atividades:
                                    .div-list(style="margin-left: 10px",  ng-repeat="atividade in validacaoAnaliseGeoGerente.dadosProjeto.atividades")
                                        label {{ atividade.atividadeCaracterizacao.atividade.nome }}
                                    br
                                    table.table.table-striped.table-condensed.no-margin.table-responsive(style="border: 1px solid #d0cbcb;")
                                        thead
                                            tr
                                                th.col-md-4 Item
                                                th.col-md-5 Declarado

                                        tbody
                                            tr(ng-repeat="geometria in validacaoAnaliseGeoGerente.dadosProjeto.complexo.geometrias")
                                                td.col-md-5 {{ geometria.item }}
                                                td.col-md-5 {{ geometria.descricao }}

                        #lista-camadas-atividades(ng-if="validacaoAnaliseGeoGerente.dadosProjeto.categoria !== validacaoAnaliseGeoGerente.enumCategoria.COMPLEXO && validacaoAnaliseGeoGerente.dadosProjeto.complexo === null")
                            #accordion-atividades.panel-group
                                h5(style="margin-bottom:0px") {{ validacaoAnaliseGeoGerente.labelDadosProjeto }}
                                br
                                hr(style="margin-top:2px;")
                                div.collapse-atividade(ng-repeat="atividade in validacaoAnaliseGeoGerente.dadosProjeto.atividades")
                                    a(href='javascript:;', data-toggle='collapse', data-parent='#accordion-atividades',aria-expanded='false', data-target='#dadosAtividadesProjeto{{$index}}', ng-click = 'atividade.openedAccordion = !atividade.openedAccordion')
                                        .panel.panel-default
                                            .panel-heading
                                                h4.panel-title
                                                    | Atividade: {{ atividade.atividadeCaracterizacao.atividade.nome.toUpperCase() }}
                                                    i(class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': atividade.openedAccordion, 'glyphicon-chevron-right': !atividade.openedAccordion}")

                                    .collapse(id='dadosAtividadesProjeto{{$index}}')
                                        table.table.table-striped.table-condensed.no-margin.table-responsive(style="border: 1px solid #d0cbcb;")
                                            thead
                                                tr
                                                    th.col-md-4 Item
                                                    th.col-md-5 Declarado

                                            tbody(ng-repeat="geometria in atividade.geometrias")
                                                tr
                                                    td.col-md-5 {{ geometria.item }}
                                                    td.col-md-5 {{ geometria.descricao }}

            #accordion-resultado.panel-group
                div
                    a(href='javascript:;', data-toggle='collapse', data-parent='#accordion-resultado', aria-expanded='false', data-target='#resultatdo-analise', ng-init = 'validacaoAnaliseGeoGerente.openedAccordionResultado = false', ng-click = 'validacaoAnaliseGeoGerente.openedAccordionResultado = !validacaoAnaliseGeoGerente.openedAccordionResultado' )
                        .panel.panel-default.panel-analise
                            .panel-heading
                                h4.panel-title
                                    | Resultado da análise
                                    i(class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': validacaoAnaliseGeoGerente.openedAccordionResultado, 'glyphicon-chevron-right': !validacaoAnaliseGeoGerente.openedAccordionResultado}")
                    
                    #resultatdo-analise.collapse
                        .label-situacao
                            span.title-info Situação: 
                            span {{validacaoAnaliseGeoGerente.parecerGeo.tipoResultadoAnalise.nome | uppercase}}
                        
                        .botoes-download
                            button.btn.btn-success.btn-download(type="button",title="Visualizar anexo",ng-click="validacaoAnaliseGeoGerente.downloadPDFparecer(validacaoAnaliseGeoGerente.analiseGeo)")
                                .glyphicon.glyphicon-file.icon-download
                                | Parecer Geo
                            br
                            button.btn.btn-success.btn-download(type="button",title="Visualizar anexo",ng-click="validacaoAnaliseGeoGerente.downloadPDFCartaImagem(validacaoAnaliseGeoGerente.analiseGeo)")
                                .glyphicon.glyphicon-file.icon-download
                                | Carta Imagem 

                        #camposAnaliseGeo
                            div
                                label.label-parecer Da situação fundiária:
                                br
                                p(ng-if="validacaoAnaliseGeoGerente.parecerGeo.situacaoFundiaria", ng-bind-html="validacaoAnaliseGeoGerente.parecerGeo.situacaoFundiaria")
                                div.info-sem-dados-para-exibir(ng-if="!validacaoAnaliseGeoGerente.parecerGeo.situacaoFundiaria") 
                                    i Não há situação fundiária

                            div
                                label.label-parecer Da análise temporal:
                                br
                                p(ng-if="validacaoAnaliseGeoGerente.parecerGeo.analiseTemporal", ng-bind-html="validacaoAnaliseGeoGerente.parecerGeo.analiseTemporal")
                                div.info-sem-dados-para-exibir(ng-if="!validacaoAnaliseGeoGerente.parecerGeo.analiseTemporal") 
                                    i Não há análise temporal

                            table.table.table-condensed.table-docs(ng-if="validacaoAnaliseGeoGerente.parecerGeo.documentos.length > 0")

                                thead

                                    tr
                                        th.col-md-10 Documento anexado
                                        th.col-md-2.text-right Ações

                                tbody

                                    tr(ng-repeat="documento in validacaoAnaliseGeoGerente.parecerGeo.documentos", ng-if= "documento.tipo.id === validacaoAnaliseGeoGerente.enumDocumentos.DOCUMENTO_ANALISE_TEMPORAL")
                                        td.col-md-10 {{ documento.nomeDoArquivo }}
                                        td.col-md-2.text-right
                                            a.d-inline.margin-right-xs.aba-clicavel(style='cursor: pointer;',title="Visualizar anexo", ng-click="validacaoAnaliseGeoGerente.baixarDocumento(documento)")
                                                i.glyphicon.glyphicon-eye-open
                            div
                                label.label-parecer Conclusão:
                                br
                                p(ng-bind-html="validacaoAnaliseGeoGerente.parecerGeo.conclusao")

                        table.table.table-condensed.table-docs(ng-if="validacaoAnaliseGeoGerente.parecerGeo.documentos.length > 0")

                            thead

                                tr
                                    th.col-md-10 Documento anexado
                                    th.col-md-2.text-right Ações

                            tbody

                                tr(ng-repeat="documento in validacaoAnaliseGeoGerente.parecerGeo.documentos", ng-if= "documento.tipo.id !== validacaoAnaliseGeoGerente.enumDocumentos.DOCUMENTO_ANALISE_TEMPORAL")
                                    td.col-md-10 {{ documento.nomeDoArquivo }}
                                    td.col-md-2.text-right
                                        a.d-inline.margin-right-xs.aba-clicavel(style='cursor: pointer;',title="Visualizar anexo", ng-click="validacaoAnaliseGeoGerente.baixarDocumento(documento)")
                                            i.glyphicon.glyphicon-eye-open

                        #camposAnaliseGeoObservacao
                            div(ng-show="validacaoAnaliseGeoGerente.parecerGeo.tipoResultadoAnalise.id === validacaoAnaliseGeoGerente.TiposResultadoAnalise.DEFERIDO")
                                label.label-parecer Despacho:
                                br
                                p(ng-bind-html="validacaoAnaliseGeoGerente.parecerGeo.parecer")
                            div(ng-show="validacaoAnaliseGeoGerente.parecerGeo.tipoResultadoAnalise.id === validacaoAnaliseGeoGerente.TiposResultadoAnalise.INDEFERIDO")
                                label.label-parecer Justificativa:
                                br
                                p(ng-bind-html="validacaoAnaliseGeoGerente.parecerGeo.parecer")
