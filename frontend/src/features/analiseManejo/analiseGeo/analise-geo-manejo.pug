include ../../../layout/components/inputErrors

h4 Parecer Técnico

hr
div.row#dadosProcesso(ng-init="analiseGeoManejo.init()")
	.col-xs-12.col-md-8
		blockquote.success

			div.row
				label.col-sm-4 Processo:
				span.col-sm-8 {{analiseGeoManejo.processo.numeroProcesso}}

			div.row
				label.col-sm-4 CPF/CNPJ:
				span.col-sm-8 {{analiseGeoManejo.processo.cpfCnpj | brCpfCnpj}}

			div.row
				label.col-sm-4 Nome/Razão Social:
				span.col-sm-8 {{analiseGeoManejo.processo.denominacaoEmpreendimentoSimlam}}
hr
div
	.col-xs-12
		h4 Análise Geo
	.col-xs-12
		h5 Upload do shape

div
	form(name="analiseGeoManejo.formularioAnaliseGeo", novalidate)
		.form-group
			div.btn.btn-default(type="file", name="arquivo", required, ngf-select="analiseGeoManejo.upload($file)", ngf-accept="'application/zip'", ngf-pattern="'application/zip'", ngf-max-size="{{analiseGeoManejo.TAMANHO_MAXIMO_ARQUIVO_MB}}MB")
				i.glyphicon.glyphicon-open.glyphicon--with-right-margin
				| Anexar arquivo zip à análise
			i Tamanho máximo de {{analiseGeoManejo.TAMANHO_MAXIMO_ARQUIVO_MB}}MB
			//TODO
			//+inputErrors('analiseGeoManejo.formularioAnaliseGeo', 'arquivo', 'required')

	//p Submetido {{analiseGeoManejo.formularioAnaliseGeo.$submitted}}
	//div(ng-messages="analiseGeoManejo.formularioAnaliseGeo.arquivo.$error")
	//	p.error-message(ng-message='required') Upload do arquivo obrigatório.


	table.table.table-condensed(ng-if="analiseGeoManejo.processo.analiseManejo.pathShape")

		thead

			tr
				th.col-md-10 Arquivo anexado
				th.col-md-2.text-right Ações

		tbody

			tr
				td.col-md-10 {{analiseGeoManejo.arquivoShape.name}}
				td.col-md-2.text-right

					a.d-inline.margin-right-xs(title="Remover arquivo", ng-click="analiseGeoManejo.removeUpload()")
						i.glyphicon.glyphicon-trash

div
	button.btn.btn-success.pull-right.col-md-2(ng-click="analiseGeoManejo.analisar()", tabindex="0")
		span.glyphicon.glyphicon-check.glyphicon--with-right-margin
		| &nbsp;Analisar
